<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <h1>Weekly Meal Planner</h1>
    <div class="container">
      <input class="recipe1" id="test" type="text" placeholder="Recipe 1" />
      <input class="recipe2" type="text" placeholder="Recipe 2" />
      <input class="recipe3" type="text" placeholder="Recipe 3" />
      <input class="recipe4" type="text" placeholder="Recipe 4" />
      <input class="recipe5" type="text" placeholder="Recipe 5" />

      <button type="submit" onClick="submitMeals()">Submit Recipes</button>
    </div>

    <div class="container"><ul id="shoppingList"></ul></div>

    <script>
      function newEl(type, attrs = {}) {
        const el = document.createElement(type);
        for (let attr in attrs) {
          const value = attrs[attr];
          if (attr == "innerText") el.innertText = value;
          else el.setAttribute(attr, vlue);
        }
        return el;
      }

      // Display shopping list in UI 
      function showShoppingList(ingredients) {
        const shopListUl = document.getElementById("shoppingList");

        ingredients.forEach(ing => {
          const ingredientLi = document.createElement('li')
          ingredientLi.innerText = ing;
          shopListUl.append(ingredientLi);
        });
      }

      async function submitMeals() {
        let urls = [];
        const url1 = document.querySelector(".recipe1").value;
        const url2 = document.querySelector(".recipe2").value;
        const url3 = document.querySelector(".recipe3").value;
        const url4 = document.querySelector(".recipe4").value;
        const url5 = document.querySelector(".recipe5").value;

        urls.push(url1, url2, url3, url4, url5);
        
        // Get scraped recipe data from recipe using server api
        jsonS = fetch("http://localhost:3000/recipe", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ urls }),
        })
          .then(response => response.json())
          .then(ingredients => showShoppingList(ingredients));
      }
    </script>
    <style></style>
  </body>
</html>
